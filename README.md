

# ЁЯУШ PostgreSQL ржПржмржВ рждрж╛рж░ ржкрзНрж░ржзрж╛ржи ржХржирж╕рзЗржкрзНржЯрж╕ржорзВрж╣

## 1. PostgreSQL ржХрзА?

PostgreSQL рж╣рж▓рзЛ ржПржХржЯрж┐ ржУржкрзЗржи рж╕рзЛрж░рзНрж╕ рж░рж┐рж▓рзЗрж╢ржирж╛рж▓ ржбрзЗржЯрж╛ржмрзЗрж╕ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржо ржпрж╛ ACID properties ржорзЗржирзЗ ржЪрж▓рзЗред ржПржЯрж┐ SQL ржПржмржВ JSON ржЙржнржпрж╝ ржлрж░ржорзНржпрж╛ржЯрзЗ ржбрзЗржЯрж╛ ржорзНржпрж╛ржирзЗржЬ ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржПржЯрж┐ ржмржбрж╝ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи, ржУржпрж╝рзЗржм рж╕рж╛рж░рзНржнрж┐рж╕ ржПржмржВ ржмрж┐рж╢рзНрж▓рзЗрж╖ржгржзрж░рзНржорзА ржбрзЗржЯрж╛ рж╣рзНржпрж╛ржирзНржбрж▓ ржХрж░рж╛рж░ ржЬржирзНржп ржЦрзБржмржЗ ржЙржкржпрзБржХрзНрждред

### ЁЯОп ржЙржжрж╛рж╣рж░ржг:
ржЖржкржирж┐ ржпржжрж┐ ржПржХржЯрж┐ ржЗ-ржХржорж╛рж░рзНрж╕ ржЕрзНржпрж╛ржк ржмрж╛ржирж╛ржи ржпрзЗржЦрж╛ржирзЗ рж╣рж╛ржЬрж╛рж░ рж╣рж╛ржЬрж╛рж░ ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржЖржЫрзЗ, PostgreSQL ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ рж╕рзЗржЗ ржкрзНрж░рзЛржбрж╛ржХрзНржЯржЧрзБрж▓рзЛрж░ ржЗржиржнрзЗржирзНржЯрж░рж┐, ржЕрж░рзНржбрж╛рж░ ржПржмржВ ржЗржЙржЬрж╛рж░ рждржерзНржп рж╕ржарж┐ржХржнрж╛ржмрзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред

---

## 2. PostgreSQL-ржП Schema ржПрж░ ржЙржжрзНржжрзЗрж╢рзНржп ржХрзА?

Schema рж╣ржЪрзНржЫрзЗ ржбрзЗржЯрж╛ржмрзЗрж╕рзЗрж░ ржоржзрзНржпрзЗ ржПржХржЯрж┐ рж▓ржЬрж┐ржХрзНржпрж╛рж▓ ржХрж╛ржарж╛ржорзЛ ржмрж╛ ржирзЗржорж╕рзНржкрзЗрж╕ ржпрж╛ ржбрзЗржЯрж╛ ржЕржмржЬрзЗржХрзНржЯржЧрзБрж▓рзЛ (ржпрзЗржоржи ржЯрзЗржмрж┐рж▓, ржнрж┐ржЙ, ржлрж╛ржВрж╢ржи ржЗрждрзНржпрж╛ржжрж┐) рж╕ржВржЧржарж┐ржд ржХрж░рзЗред

### тЬЕ ржЙржжрзНржжрзЗрж╢рзНржп:
- ржбрзЗржЯрж╛ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ рж░рж╛ржЦрж╛рж░ ржмрзНржпржмрж╕рзНржерж╛
- ржорж╛рж▓рзНржЯрж┐-ржЗржЙржЬрж╛рж░ ржПржиржнрж╛ржпрж╝рж░ржиржорзЗржирзНржЯрзЗ ржирж┐рж░рж╛ржкрждрзНрждрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛
- ржмрзЬ рж╕рж┐рж╕рзНржЯрзЗржорзЗ ржоржбрж┐ржЙрж▓рж╛рж░ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ рждрзИрж░рж┐ ржХрж░рж╛

### ЁЯОп ржЙржжрж╛рж╣рж░ржг:
```sql
CREATE SCHEMA sales;

CREATE TABLE sales.orders (
  id SERIAL PRIMARY KEY,
  customer_id INT,
  total_amount NUMERIC
);
```

---

## 3. Primary Key ржУ Foreign Key ржХрзА?

### тЬЕ Primary Key:
ржПржХржЯрж┐ ржЗржЙржирж┐ржХ ржХрж▓рж╛ржо ржпрж╛ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбржХрзЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ рж╢ржирж╛ржХрзНржд ржХрж░рзЗред

### тЬЕ Foreign Key:
ржЕржирзНржп ржЯрзЗржмрж┐рж▓рзЗрж░ Primary Key ржПрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХ рж╕рзНржерж╛ржкржи ржХрж░рзЗ, ржпрж╛ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ ржЗржиржЯрж┐ржЧрзНрж░рж┐ржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗред

### ЁЯОп ржЙржжрж╛рж╣рж░ржг:
```sql
CREATE TABLE customers (
  id SERIAL PRIMARY KEY,
  name TEXT
);

CREATE TABLE orders (
  id SERIAL PRIMARY KEY,
  customer_id INT REFERENCES customers(id)
);
```

ржПржЦрж╛ржирзЗ `orders.customer_id` рж╣рж▓рзЛ `customers.id` ржПрж░ Foreign Keyред

---

## 4. VARCHAR ржУ CHAR ржПрж░ ржкрж╛рж░рзНржержХрзНржп ржХрзА?

- `VARCHAR(n)` рж╣ржЪрзНржЫрзЗ ржнрзНржпрж╛рж░рж┐ржпрж╝рзЗржмрж▓ ржжрзИрж░рзНржШрзНржпрзЗрж░ ржЯрзЗржХрзНрж╕ржЯред ржПржЯрж╛ рж╢рзБржзрзБ ржкрзНрж░рзЯрзЛржЬржи ржЕржирзБржпрж╛рзЯрзА рж╕рзНржкрзЗрж╕ ржирзЗрзЯред
- `CHAR(n)` рж╣ржЪрзНржЫрзЗ ржлрж┐ржХрзНрж╕ржб ржжрзИрж░рзНржШрзНржпрзЗрж░ ржЯрзЗржХрзНрж╕ржЯред ржПржЯрж╛ рж╕ржмрж╕ржорзЯ n ржЪрж░рзЗржХрзНржЯрж╛рж░ рж╕рзНржкрзЗрж╕ ржирзЗржпрж╝ред

### ЁЯОп ржЙржжрж╛рж╣рж░ржг:
```sql
CREATE TABLE products (
  code VARCHAR(10),
  category CHAR(10)
);
```

ржпржжрж┐ `code = 'P001'` рж╣рзЯ ржПржмржВ `category = 'Toy'`, рждрж╛рж╣рж▓рзЗ `code` рж╣ржмрзЗ `'P001'` ржЖрж░ `category` рж╣ржмрзЗ `'Toy       '` (7 ржЯрж┐ рж╕рзНржкрзЗрж╕ рж╕рж╣)ред

---

## 5. WHERE clause ржПрж░ ржХрж╛ржЬ ржХрзА?

`WHERE` ржХрзНрж▓ржЬ ржжрж┐ржпрж╝рзЗ ржбрзЗржЯрж╛ ржлрж┐рж▓рзНржЯрж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝ ржпрж╛рждрзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╢рж░рзНржд ржЕржирзБржпрж╛ржпрж╝рзА ржбрзЗржЯрж╛ рж░рж┐ржЯрж╛рж░рзНржи рж╣ржпрж╝ред

### ЁЯОп ржЙржжрж╛рж╣рж░ржг:
```sql
SELECT * FROM employees
WHERE department = 'HR' AND salary > 50000;
```

ржПржЦрж╛ржирзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ HR ржбрж┐ржкрж╛рж░рзНржЯржорзЗржирзНржЯрзЗрж░ ржПржмржВ ржпрж╛ржжрзЗрж░ рж╕рзНржпрж╛рж▓рж╛рж░рж┐ рзлрзж,рзжрзжрзж ржЯрж╛ржХрж╛рж░ ржмрзЗрж╢рж┐ рждрж╛ржжрзЗрж░ рждржерзНржп рж░рж┐ржЯрж╛рж░рзНржи рж╣ржмрзЗред

---

## 6. LIMIT ржУ OFFSET ржПрж░ ржмрзНржпржмрж╣рж╛рж░ ржХрзА?

- `LIMIT`: ржХрждржЧрзБрж▓рзЛ рж░рзЗржХрж░рзНржб рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рждрзЗ ржЪрж╛ржи рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗред
- `OFFSET`: ржХрждржЧрзБрж▓рзЛ рж░рзЗржХрж░рзНржб рж╕рзНржХрж┐ржк ржХрж░ржмрзЗ рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗред

### ЁЯОп ржЙржжрж╛рж╣рж░ржг (pagination):
```sql
SELECT * FROM products
LIMIT 10 OFFSET 20;
```

ржПржЯрж┐ рзирззрждржо рж░рзЗржХрж░рзНржб ржерзЗржХрзЗ рж╢рзБрж░рзБ ржХрж░рзЗ рззрзжржЯрж┐ рж░рзЗржХрж░рзНржб рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗред рж╕рж╛ржзрж╛рж░ржгржд pagination-ржП ржмрзНржпржмрж╣рзГржд рж╣рзЯред

---

## 7. UPDATE рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ ржжрж┐ржпрж╝рзЗ ржбрзЗржЯрж╛ ржХрж┐ржнрж╛ржмрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛ржпрж╝?

`UPDATE` ржжрж┐рзЯрзЗ ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржПржХ ржмрж╛ ржПржХрж╛ржзрж┐ржХ рж░рзЗржХрж░рзНржб ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛рзЯред `SET` ржжрж┐ржпрж╝рзЗ ржирждрзБржи ржорж╛ржи рж╕рзЗржЯ ржХрж░рж╛ рж╣рзЯ ржПржмржВ `WHERE` ржХрзНрж▓ржЬ ржжрж┐рзЯрзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж░рзЗржХрж░рзНржб ржЯрж╛рж░рзНржЧрзЗржЯ ржХрж░рж╛ рж╣рзЯред

### ЁЯОп ржЙржжрж╛рж╣рж░ржг:
```sql
UPDATE employees
SET salary = salary + 5000
WHERE department = 'IT';
```

ржПржЯрж┐ IT ржбрж┐ржкрж╛рж░рзНржЯржорзЗржирзНржЯрзЗрж░ рж╕ржмрж╛рж░ рж╕рзНржпрж╛рж▓рж╛рж░рж┐рждрзЗ рзлрзжрзжрзж ржЯрж╛ржХрж╛ ржпрзЛржЧ ржХрж░ржмрзЗред

---

## 8. JOIN ржЕржкрж╛рж░рзЗрж╢ржирзЗрж░ ржЧрзБрж░рзБрждрзНржм ржУ ржХрж╛ржЬ ржХрзА?

`JOIN` ржжрж┐ржпрж╝рзЗ ржПржХрж╛ржзрж┐ржХ ржЯрзЗржмрж┐рж▓рзЗрж░ ржбрзЗржЯрж╛ ржпрзБржХрзНржд ржХрж░рзЗ ржПржХржЯрж┐ ржЗржЙржирж┐ржлрж╛ржЗржб ржнрж┐ржЙ рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛ржпрж╝ред

### ЁЯОп ржЙржжрж╛рж╣рж░ржг (INNER JOIN):
```sql
SELECT e.name, d.name AS department
FROM employees e
JOIN departments d ON e.dept_id = d.id;
```

ржПржЯрж┐ `employees` ржПржмржВ `departments` ржЯрзЗржмрж┐рж▓ржХрзЗ `dept_id` ржПрж░ ржорж╛ржзрзНржпржорзЗ ржпрзБржХрзНржд ржХрж░рзЗред

---

## 9. GROUP BY ржХрзНрж▓ржЬ ржУ ржПржЯрж┐ ржХрзАржнрж╛ржмрзЗ Aggregation-ржП рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ?

`GROUP BY` ржПржХржЗ ржзрж░ржирзЗрж░ ржорж╛ржиржХрзЗ ржПржХрждрзНрж░рж┐ржд ржХрж░рзЗ ржПржмржВ рж╕рзЗржЯрж┐рж░ ржЙржкрж░ Aggregate ржлрж╛ржВрж╢ржи (ржпрзЗржоржи COUNT, SUM) ржкрзНрж░ржпрж╝рзЛржЧ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред

### ЁЯОп ржЙржжрж╛рж╣рж░ржг:
```sql
SELECT department, COUNT(*) AS total
FROM employees
GROUP BY department;
```

ржПржЦрж╛ржирзЗ ржкрзНрж░рждрж┐ржЯрж┐ ржбрж┐ржкрж╛рж░рзНржЯржорзЗржирзНржЯрзЗ ржХрждржЬржи ржХрж░рзНржоржЪрж╛рж░рзА ржЖржЫрзЗ рждрж╛ ржЧржгржирж╛ ржХрж░рж╛ рж╣рзЯред

---

## 10. Aggregate Functions (COUNT, SUM, AVG) ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?

Aggregate functions ржЕржирзЗржХржЧрзБрж▓рзЛ рж░рзЗржХрж░рзНржбрзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржПржХржЯрж┐ ржПржХржХ рж░рзЗржЬрж╛рж▓рзНржЯ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред

### ЁЯОп ржЙржжрж╛рж╣рж░ржг:
```sql
SELECT COUNT(*) FROM orders; -- ржорзЛржЯ ржЕрж░рзНржбрж╛рж░ рж╕ржВржЦрзНржпрж╛

SELECT SUM(total_amount) FROM orders; -- ржорзЛржЯ ржмрж┐ржХрзНрж░рж┐рж░ ржкрж░рж┐ржорж╛ржг

SELECT AVG(salary) FROM employees; -- ржЧржбрж╝ рж╕рзНржпрж╛рж▓рж╛рж░рж┐
```

ржПржЗ ржлрж╛ржВрж╢ржиржЧрзБрж▓рзЛ рж░рж┐ржкрзЛрж░рзНржЯрж┐ржВ ржПржмржВ ржмрж┐рж╢рзНрж▓рзЗрж╖ржгрзЗ ржмрзНржпрж╛ржкржХржнрж╛ржмрзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯред

---
